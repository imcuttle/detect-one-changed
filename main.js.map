{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./markdown-ast/index.js","webpack:////home/travis/build/imcuttle/detect-one-changed/index.js","webpack:////home/travis/build/imcuttle/detect-one-changed/lib/index.js","webpack:////home/travis/build/imcuttle/detect-one-changed/lib/reverseAST.js","webpack:///./markdown-ast/markdown.md"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","gfm","require","use","debounce","parse","stringify","copy","compress","decompress","version","detectMarkdown","defaultMd","textarea","document","querySelector","query","location","search","md","oldMd","old","update","arguments","undefined","detected","wrapType","console","log","ast","html","runSync","innerHTML","node","nodeList","querySelectorAll","pop","scrollIntoView","behavior","getUrl","val","href","replace","addEventListener","_ref","target","alert","textContent","body","open","encodeURIComponent","isPlainObject","isequalwith","detectTreeChanged","reverseAST","defaultEqual","detectAst","oldAst","newAst","_ref$reverse","reverse","_ref$equal","equal","_detectTreeChanged","limit","a","b","_assign2","default","position","state","_slicedToArray3","parents","ctx","paths","isInlineTypeMDAST","type","includes","detectHtml","oldHtml","newHtml","_ref3","_ref3$ast","_ref3$text","text","_ref3$reverse","_ref3$position","_ref3$style","style","_ref3$className","className","_ref3$rehype","rehype","TypeError","_typeof3","settings","fragment","freeze","e","pos","hProps","properties","concat","filter","Boolean","join","oldMarkdown","newMarkdown","_ref2","_ref2$wrapTag","wrapTag","_ref2$wrapType","_ref2$ast","_ref2$text","_ref2$reverse","_ref2$style","_ref2$className","_ref2$position","_ref2$remark","remark","next","par","findIndex","x","children","index","indexOf","hProperties","openTag","closeTag","nextSibling","endNode","startNode","wrapNodes","every","walk","Array","isArray"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([183,1,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/**\n * @file index\n * @author imcuttle <moyuyc95@gmail.com>\n * @date 2018/10/29\n */\n\nconst gfm = require('remark')()\n  .use(require('remark-preset-gfm'))\n  .use(require('remark-html'))\nconst debounce = require('lodash.debounce')\nconst { parse, stringify } = require('querystring')\nconst copy = require('copy-text-to-clipboard')\nconst { compress, decompress } = require('lzbase62')\n\nconst { name, version } = require('../../../package')\n\nrequire('!style-loader!css-loader!../../../style.css')\n\nconst { detectMarkdown } = require('../../../')\n\nconst defaultMd = require('!raw-loader!./markdown.md')\nconst textarea = document.querySelector('.input-body textarea')\nconst query = parse(location.search.slice(1))\ntextarea.value = query.md ? decompress(query.md) : defaultMd\n\nlet oldMd = query.old || textarea.value\nupdate()\n\nfunction update(value = textarea.value) {\n  const detected = detectMarkdown(oldMd, value, { wrapType: 'ast' })\n  console.log('=== detected ===')\n  console.log(detected)\n\n  const { ast } = detected\n  const html = gfm.stringify(gfm.runSync(ast))\n\n  oldMd = value\n  document.querySelector('.markdown-body').innerHTML = html\n\n  const nodeList = [...document.querySelectorAll('.detected-updated')]\n  const node = nodeList.pop()\n  if (node) {\n    node.scrollIntoView({ behavior: 'smooth' })\n  }\n}\n\ntextarea.addEventListener(\n  'input',\n  debounce(({ target }) => {\n    update(target.value)\n  }, 300)\n)\n\nfunction getUrl() {\n  const val = { md: defaultMd === textarea.value ? undefined : compress(textarea.value) }\n  return location.href.replace(/\\?[^?]+?$/, '') + '?' + stringify(val)\n}\n\ndocument.querySelector('#copy-link').addEventListener('click', () => {\n  copy(getUrl())\n  alert('Copied!')\n})\ndocument.querySelector('#version').textContent = `${name} ${version}`\ndocument.querySelector('#new-issue').addEventListener('click', newIssue)\n\nfunction newIssue() {\n  const body = `\n  **${name} ${version}**\n[Live link](${getUrl()})\n\n**Input:**\n~~~~markdown\n${textarea.value}\n~~~~\n\n**Expected behavior:**\n  `\n\n  window.open(`https://github.com/imcuttle/${name}/issues/new?body=${encodeURIComponent(body)}`)\n}\n","/**\n * @file index\n * @author imcuttle <moyuyc95@gmail.com>\n * @date 2018/10/30\n *\n */\n\nmodule.exports = require('./lib')\n","/**\n * @file inde\n * @author imcuttle <moyuyc95@gmail.com>\n * @date 2018/10/27\n *\n */\nconst isPlainObject = require('is-plain-obj')\nconst isequalwith = require('lodash.isequalwith')\n// const detectChanged = require('./detectFirstChanged')\nconst detectTreeChanged = require('detect-tree-changed')\nconst reverseAST = require('./reverseAST')\n\nconst defaultEqual = isequalwith\n\n/**\n * Find changed one node from AST\n * @public\n * @param {AST} oldAst\n * @param {AST} newAst\n * @param {DetectOptions} options\n * @return {null|DetectedState}\n */\nfunction detectAst(oldAst, newAst, { reverse = true, equal = defaultEqual } = {}) {\n  if (reverse) {\n    reverseAST(oldAst)\n    reverseAST(newAst)\n  }\n\n  const [state] = detectTreeChanged(newAst, oldAst, {\n    limit: 1,\n    equal: (a, b) => {\n      return equal(Object.assign({}, a, { position: null }), Object.assign({}, b, { position: null }))\n    }\n  })\n\n  return state\n    ? {\n        node: state[0],\n        parents: state[1].ctx.parents,\n        paths: state[1].ctx.paths\n      }\n    : null\n}\n\nfunction isInlineTypeMDAST(type) {\n  return ['text', 'emphasis', 'strong', 'delete', 'inlineCode', 'break', 'link'].includes(type)\n}\n\n/**\n * Detect markdown updating\n * @public\n * @param {AST|string} oldMarkdown\n * @param {AST|string} newMarkdown\n * @param {DetectMarkdownOptions} options\n * @return DetectResult\n */\nfunction detectMarkdown(\n  oldMarkdown,\n  newMarkdown,\n  {\n    wrapTag = 'div',\n    wrapType = 'html',\n    ast = true,\n    text = true,\n    reverse = true,\n    style = '',\n    className = 'detected-updated',\n    position = true,\n    remark = require('remark')(),\n    equal\n  } = {}\n) {\n  if (typeof oldMarkdown !== 'string' && !isPlainObject(oldMarkdown)) {\n    throw new TypeError('`oldMarkdown` is required type of string or plain object, but ' + typeof oldMarkdown)\n  }\n\n  if (typeof newMarkdown !== 'string' && !isPlainObject(newMarkdown)) {\n    throw new TypeError('`newMarkdown` is required type of string or plain object, but ' + typeof newMarkdown)\n  }\n\n  try {\n    remark = remark.use({ settings: { position } }).freeze()\n  } catch (e) {}\n\n  if (newMarkdown === oldMarkdown) {\n    return {\n      state: null,\n      node: null,\n      text: text ? newMarkdown : null,\n      ast: ast ? (typeof newMarkdown === 'string' ? remark.parse(newMarkdown) : newMarkdown) : null\n    }\n  }\n  let oldAst = typeof oldMarkdown === 'string' ? remark.parse(oldMarkdown) : oldMarkdown\n  let newAst = typeof newMarkdown === 'string' ? remark.parse(newMarkdown) : newMarkdown\n  let state = detectAst(oldAst, newAst, { reverse, equal })\n\n  let node\n  if (state) {\n    node = state.node\n    let parents = state.parents\n    if (node) {\n      let pos = 0\n      const curr = () => parents[parents.length - 1 - pos]\n      const next = () => parents[parents.length - 1 - ++pos]\n      let par = curr()\n\n      // skip text node\n      while (['html', 'ast'].includes(wrapType) && node && node.type === 'text') {\n        node = par\n        par = next()\n        // stringify to <li class=active>foo</li>, instead of <li><p class=active>foo</p></li>\n        if (wrapType === 'ast' && par && par.type === 'listItem') {\n          node = par\n          par = next()\n        }\n      }\n\n      // skip html node\n      while (wrapType === 'ast' && node && node.type === 'html') {\n        node = par\n        par = next()\n      }\n\n      // skip image node\n      while (wrapType === 'html' && node && node.type === 'image') {\n        node = par\n        par = next()\n      }\n\n      // case:   \"- [link](...)\"\n      // Find up to an block type node\n      while (\n        wrapType === 'html' &&\n        node &&\n        isInlineTypeMDAST(node.type) &&\n        // Parent hits listItem\n        parents\n          .slice(0, parents.length - pos)\n          .reverse()\n          .findIndex(x => x.type === 'listItem') >= 0\n      ) {\n        node = par\n        par = next()\n      }\n      // list's children should be type of listItem\n      while (['html'].includes(wrapType) && node && node.type === 'listItem') {\n        par = node\n        node = reverse ? node.children[node.children.length - 1] : node.children[0]\n      }\n      if (node) {\n        const index = ((par && par.children) || []).indexOf(node)\n        if (index >= 0) {\n          function wrapNodes(startNode, endNode) {\n            if (!reverse) {\n              par.children.splice(index + 1, 0, endNode)\n              par.children.splice(index, 0, startNode)\n            } else {\n              par.children.splice(index + 1, 0, startNode)\n              par.children.splice(index, 0, endNode)\n            }\n          }\n\n          if (wrapType === 'ast') {\n            const data = (node.data = node.data || {})\n            const hProps = (data.hProperties = data.hProperties || {})\n            if (className) {\n              hProps.className = [className].concat(hProps.className).filter(Boolean)\n            }\n            if (style) {\n              hProps.style = [style, hProps.style].filter(Boolean).join(' ')\n            }\n          } else if (wrapType === 'html') {\n            const openTag = `<${wrapTag} class=\"${className || ''}\" style=\"${style || ''}\">`\n            const closeTag = `</${wrapTag}>`\n            if (node && 'tableCell' === node.type) {\n              node.children = [\n                {\n                  type: 'html',\n                  value: openTag\n                }\n              ]\n                .concat(node.children || [])\n                .concat({\n                  type: 'html',\n                  value: closeTag\n                })\n            } else {\n              const nextSibling = par.children[index + (reverse ? -1 : +1)]\n              const endNode = {\n                type: 'html',\n                value: closeTag + (nextSibling && nextSibling.type === 'list' ? '\\n' : '')\n              }\n              const isSimpleChildren = !node.children || node.children.every(x => x.type === 'text')\n              const startNode = {\n                type: 'html',\n                value: openTag + (!isSimpleChildren && par.type === 'listItem' ? '\\n' : '')\n              }\n              wrapNodes(startNode, endNode)\n            }\n          }\n        }\n      }\n    }\n  }\n\n  if (reverse) {\n    reverseAST(newAst)\n  }\n  return {\n    text: text ? remark.stringify(newAst) : null,\n    ast: ast ? newAst : null,\n    state,\n    node\n  }\n}\n\n/**\n * Detect html updating\n * @public\n * @param {AST|string} oldHtml\n * @param {AST|string} newHtml\n * @param {DetectHtmlOptions} options\n * @return {DetectResult}\n * @example\n * const { detectHtml } = require('detect-one-changed')\n *\n * detectHtml('<p>old</p>', '<p class=\"new-cls\">new</p>').text\n * // => '<p class=\"detected-updated new-cls\">new</p>'\n */\nfunction detectHtml(\n  oldHtml,\n  newHtml,\n  {\n    ast = true,\n    text = true,\n    reverse = true,\n    position = true,\n    style = '',\n    className = 'detected-updated',\n    rehype = require('rehype')(),\n    equal\n  } = {}\n) {\n  if (typeof oldHtml !== 'string' && !isPlainObject(oldHtml)) {\n    throw new TypeError('`oldHtml` is required type of string or plain object, but ' + typeof oldHtml)\n  }\n\n  if (typeof newHtml !== 'string' && !isPlainObject(newHtml)) {\n    throw new TypeError('`newHtml` is required type of string or plain object, but ' + typeof newHtml)\n  }\n\n  try {\n    rehype = rehype.use({ settings: { position, fragment: true } }).freeze()\n  } catch (e) {}\n\n  if (newHtml === oldHtml) {\n    return {\n      state: null,\n      node: null,\n      text: text ? newHtml : null,\n      ast: ast ? (typeof oldHtml === 'string' ? rehype.parse(oldHtml) : oldHtml) : null\n    }\n  }\n\n  let oldAst = typeof oldHtml === 'string' ? rehype.parse(oldHtml) : oldHtml\n  let newAst = typeof newHtml === 'string' ? rehype.parse(newHtml) : newHtml\n  let state = detectAst(oldAst, newAst, { reverse, equal })\n\n  let node\n  if (state) {\n    node = state.node\n    if (node) {\n      let pos = 0\n      while (node && node.type === 'text') {\n        node = state.parents[state.parents.length - 1 - pos]\n        pos++\n        // let par = state.parents[state.parents.length - 1 - pos]\n      }\n      if (node) {\n        const hProps = (node.properties = node.properties || {})\n        if (className) {\n          hProps.className = [className].concat(hProps.className).filter(Boolean)\n        }\n        if (style) {\n          hProps.style = [style]\n            .concat(hProps.style)\n            .filter(Boolean)\n            .join(' ')\n        }\n      }\n    }\n  }\n\n  if (reverse) {\n    reverseAST(newAst)\n  }\n  return {\n    text: text ? rehype.stringify(newAst) : null,\n    ast: ast ? newAst : null,\n    state,\n    node\n  }\n}\n\n/**\n * @public\n * @typedef {{}} AST\n * @see [Markdown AST](https://github.com/syntax-tree/mdast)\n * @see [HTML AST](https://github.com/syntax-tree/hast)\n * @see [remark](https://github.com/remarkjs/remark) - Markdown processor on MDAST\n * @see [rehype](https://github.com/rehypejs/rehype) - Markdown processor on HAST\n */\n\n/**\n * @public\n * @typedef {{}} Rehype\n * @see [rehype](https://github.com/rehypejs/rehype) - HTML processor powered by plugins\n */\n\n/**\n * @public\n * @typedef {{}} Remark\n * @see [remark](https://github.com/remarkjs/remark) - Markdown processor powered by plugins\n */\n\n/**\n * @public\n * @typedef {{}} DetectOptions\n * @param {boolean} [reverse=true]\n * @param {function} [equal=require('lodash.isequalwith')]\n */\n\n/**\n * @public\n * @typedef {{}} DetectedState\n * @param {AST} node - Founded node\n * @param {number[]} paths - The child indexes' track when traversing AST for finding `node`\n * @param {AST[]} parents - The parents' track when traversing AST for finding `node`\n */\n\n/**\n * @public\n * @typedef {{}} DetectTextOptions\n * @extends DetectOptions\n * @param {boolean} [ast=true]  - Should returns `ast`\n * @param {boolean} [text=true] - Should returns `text`\n * @param {string} style      - Injecting style in changed node, e.g: `color: red;`\n * @param {boolean} [position=true]  - Should AST's node carry with position information.\n * @param {string} [className='detected-updated'] - Injecting class in changed node\n */\n\n/**\n * @public\n * @typedef {{}} DetectHtmlOptions\n * @extends DetectTextOptions\n * @param {Rehype} [rehype=require('rehype')()] - a Rehype instance (for parsing string to HAST)\n */\n\n/**\n * @public\n * @typedef {{}} DetectMarkdownOptions\n * @extends DetectTextOptions\n * @param {Remark} [remark=require('remark')()] - a Remark instance (for parsing string to MDAST)\n * @param {'html'|'ast'} [wrapType='html']\n *  Type of wrapping changed node. <br/>\n *  1. `html`: Wrapped by html element.  e.g. `# updated` be wrapped as `<p class=\"detected-updated\">\\n\\n# updated\\n\\n</p>` <br/>\n *  2. `ast`:  Wrapped by ast. It's not perceptible in `text`, the effects are work on `ast`\n * @param {string} [wrapTag='div'] - The wrapped tagName when `wrapType` is `'html'`\n * @example\n * const { detectMarkdown } = require('detect-one-changed')\n *\n * detectMarkdown('# old', '# new').text\n * // => '<p class=\"detected-updated\" style=\"\">\\n\\n# new\\n\\n</p>\\n'\n *\n * @example\n * const { detectMarkdown } = require('detect-one-changed')\n * const remark = require('remark')\n * const html = require('remark-html')\n *\n * remark().use(html).stringify(detectMarkdown('# old', '# new', { wrapType: 'ast' }).ast)\n * // => '<h1 class=\"detected-updated\">new</h1>\\n'\n */\n\n/**\n * @public\n * @typedef {{}} DetectResult\n * @param {string} text\n * @param {AST} ast - Be Injected `className` and `style`'s AST\n * @param {DetectedState} state\n * @param {AST} node - Real updated AST node\n */\n\nmodule.exports = {\n  reverseAST,\n  detectAst,\n  detectHtml,\n  detectMarkdown,\n  defaultEqual\n}\n","/**\n * @file reverseAST\n * @author imcuttle <moyuyc95@gmail.com>\n * @date 2018/11/2\n *\n */\nconst walk = require('@moyuyc/visit-tree')\n\n/**\n * reverse AST\n * @public\n * @param ast {AST}\n * @return reversedAst {AST}\n */\nfunction reverseAST(ast) {\n  if (!ast) {\n    return ast\n  }\n\n  walk(ast, node => {\n    if (!node) {\n      return\n    }\n    if (node.children && Array.isArray(node.children)) {\n      node.children = node.children.reverse()\n    }\n  })\n  return ast\n}\n\nmodule.exports = reverseAST\n","module.exports = \"# detect-one-changed\\n\\n[![Build status](https://img.shields.io/travis/imcuttle/detect-one-changed/master.svg?style=flat-square)](https://travis-ci.org/imcuttle/detect-one-changed)\\n[![Test coverage](https://img.shields.io/codecov/c/github/imcuttle/detect-one-changed.svg?style=flat-square)](https://codecov.io/github/imcuttle/detect-one-changed?branch=master)\\n[![NPM version](https://img.shields.io/npm/v/detect-one-changed.svg?style=flat-square)](https://www.npmjs.com/package/detect-one-changed)\\n[![NPM Downloads](https://img.shields.io/npm/dm/detect-one-changed.svg?style=flat-square&maxAge=43200)](https://www.npmjs.com/package/detect-one-changed)\\n[![Prettier](https://img.shields.io/badge/code_style-prettier-ff69b4.svg?style=flat-square)](https://prettier.io/)\\n[![Conventional Commits](https://img.shields.io/badge/Conventional%20Commits-1.0.0-yellow.svg?style=flat-square)](https://conventionalcommits.org)\\n\\n> Detect first changed html and markdown between old text and new\\n\\n## Table of Contents\\n\\n<!-- toc -->\\n\\n- [Installation](#installation)\\n- [Usage](#usage)\\n- [API](#api)\\n- [Contributing](#contributing)\\n- [Authors](#authors)\\n- [License](#license)\\n\\n<!-- tocstop -->\\n\\n## Installation\\n\\n```bash\\nnpm install detect-one-changed\\n# or use yarn\\nyarn add detect-one-changed\\n```\\n\\n## Usage\\n\\n### Use it as an package\\n\\n```javascript\\nconst { detectMarkdown } = require('detect-one-changed')\\n\\ndetectMarkdown('abcd\\\\n\\\\n# old', 'abcd\\\\n\\\\n# new').text\\n// => 'abcd\\\\n\\\\n<p class=\\\"detected-updated\\\" style=\\\"\\\">\\\\n\\\\n# new\\\\n\\\\n</p>\\\\n'\\n```\\n\\n```javascript\\nconst { detectMarkdown } = require('detect-one-changed')\\nconst remark = require('remark')\\nconst html = require('remark-html')\\n\\nremark()\\n  .use(html)\\n  .stringify(detectMarkdown('abcd\\\\n\\\\n# old', 'abcd\\\\n\\\\n# new', { wrapType: 'ast' }).ast)\\n// => '<p>abcd</p>\\\\n<h1 class=\\\"detected-updated\\\">new</h1>\\\\n'\\n```\\n\\n```javascript\\nconst { detectHtml } = require('detect-one-changed')\\n\\ndetectHtml('<p>old</p>', '<p class=\\\"new-cls\\\">new</p>').text\\n// => '<p class=\\\"detected-updated new-cls\\\">new</p>'\\n```\\n\\n### Use it as webpack loader\\n\\nMore information please see [webpack example](./examples/webpack)\\n\\n```\\nconst\\n```\\n\\n## API\\n\\n[See API](./docs/api.md)\\n\\n## Related\\n\\n- [live-markd](https://github.com/imcuttle/live-markd) - 📝Github Favorite Markdown preview with live rendering & location and highlight changed block.\\n\\n## Contributing\\n\\n- Fork it!\\n- Create your new branch:  \\n  `git checkout -b feature-new` or `git checkout -b fix-which-bug`\\n- Start your magic work now\\n- Make sure npm test passes\\n- Commit your changes:  \\n  `git commit -am 'feat: some description (close #123)'` or `git commit -am 'fix: some description (fix #123)'`\\n- Push to the branch: `git push`\\n- Submit a pull request :)\\n\\n## Authors\\n\\nThis library is written and maintained by imcuttle, <a href=\\\"mailto:moyuyc95@gmail.com\\\">moyuyc95@gmail.com</a>.\\n\\n## License\\n\\nMIT - [imcuttle](https://github.com/imcuttle) 🐟\\n\""],"sourceRoot":""}